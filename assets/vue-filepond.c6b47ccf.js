import{r as l,O as h,c as f,s as m}from"./filepond.f22802e6.js";import{h as u}from"./@vue.3a7072fa.js";/*!
 * vue-filepond v7.0.3
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2022 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const b=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],O=m(),_=i=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[i],o={},p=[],r=[];let c={};const j=i=>{c=Object.assign(c,i),r.forEach(e=>{e.setOptions(c)})},E=(...i)=>{l(...i),p.length=0;for(const e in h){if(/^on/.test(e)){p.push(e);continue}let t=[String,_(h[e])];e=="labelFileProcessingError"&&t.push(Function),o[e]={type:t,default:void 0}}return{name:"FilePond",props:o,render(){const e=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((t,[s,n])=>(n!==void 0&&(t[s]=n),t),{});return u("div",{class:{"filepond--wrapper":!0}},[u("input",e)])},created(){this.watchers=Object.keys(o).map(e=>this.$watch(e,t=>{this._pond[e]=t}))},mounted(){if(!O)return;this._element=this.$el.querySelector("input");const e=p.reduce((s,n)=>(s[n]=(...d)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(n.substr(2),...d)},s),{}),t={};Object.keys(o).forEach(s=>{this[s]!==void 0&&(t[s]=this[s])}),this._pond=f(this._element,Object.assign({},c,e,t)),Object.keys(this._pond).filter(s=>!b.includes(s)).forEach(s=>{this[s]=this._pond[s]}),r.push(this._pond)},beforeUnmount(){const{detached:e}=this.$options;if(!this.$el.offsetParent){e.call(this);return}const t=(n,d)=>{const a=((n[0]||{}).removedNodes||[])[0];!a||!a.contains(this.$el)||(d.disconnect(),e.call(this))};new MutationObserver(t).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(t=>t()),!this._pond)return;this._pond.destroy();const e=r.indexOf(this._pond);e>=0&&r.splice(e,1),this._pond=null}}};export{j as s,E as v};
